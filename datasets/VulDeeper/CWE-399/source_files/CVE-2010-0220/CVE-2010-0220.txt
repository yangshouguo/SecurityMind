diff --git a/xpcom/ds/nsObserverList.cpp b/xpcom/ds/nsObserverList.cpp
--- a/xpcom/ds/nsObserverList.cpp
+++ b/xpcom/ds/nsObserverList.cpp
@@ -94,29 +94,31 @@ nsObserverList::GetObserverList(nsISimpl
     return NS_OK;
 }
 
 void
 nsObserverList::FillObserverArray(nsCOMArray<nsIObserver> &aArray)
 {
     aArray.SetCapacity(mObservers.Length());
 
-    for (PRInt32 i = mObservers.Length() - 1; i >= 0; --i) {
-        if (mObservers[i].isWeakRef) {
-            nsCOMPtr<nsIObserver> o(do_QueryReferent(mObservers[i].asWeak()));
+    nsTArray<ObserverRef> observers(mObservers);
+
+    for (PRInt32 i = observers.Length() - 1; i >= 0; --i) {
+        if (observers[i].isWeakRef) {
+            nsCOMPtr<nsIObserver> o(do_QueryReferent(observers[i].asWeak()));
             if (o) {
                 aArray.AppendObject(o);
             }
             else {
                 // the object has gone away, remove the weakref
-                mObservers.RemoveElementAt(i);
+                mObservers.RemoveElement(observers[i].asWeak());
             }
         }
         else {
-            aArray.AppendObject(mObservers[i].asObserver());
+            aArray.AppendObject(observers[i].asObserver());
         }
     }
 }
 
 void
 nsObserverList::NotifyObservers(nsISupports *aSubject,
                                 const char *aTopic,
                                 const PRUnichar *someData)
