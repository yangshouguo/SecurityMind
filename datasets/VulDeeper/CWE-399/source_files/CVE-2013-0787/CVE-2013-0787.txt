diff --git a/editor/libeditor/base/nsEditor.cpp b/editor/libeditor/base/nsEditor.cpp
--- a/editor/libeditor/base/nsEditor.cpp
+++ b/editor/libeditor/base/nsEditor.cpp
@@ -3948,9 +3948,9 @@ nsEditor::IsPreformatted(nsIDOMNode *aNode, bool *aResult)
     content = content->GetParent();
   }
   if (content && content->IsElement()) {
-    elementStyle = nsComputedDOMStyle::GetStyleContextForElement(content->AsElement(),
-                                                                 nullptr,
-                                                                 ps);
+    elementStyle = nsComputedDOMStyle::GetStyleContextForElementNoFlush(content->AsElement(),
+                                                                        nullptr,
+                                                                        ps);
   }
 
   if (!elementStyle)
