diff --git a/js/src/jsobj.c b/js/src/jsobj.c
--- a/js/src/jsobj.c
+++ b/js/src/jsobj.c
@@ -3455,16 +3455,18 @@ js_FindPropertyHelper(JSContext *cx, jsi
     JSScopeProperty *sprop;
 
     obj = cx->fp->scopeChain;
     type = OBJ_SCOPE(obj)->shape;
     for (scopeIndex = 0; ; scopeIndex++) {
         if (obj->map->ops->lookupProperty == js_LookupProperty) {
             protoIndex =
                 js_LookupPropertyWithFlags(cx, obj, id, 0, &pobj, &prop);
+            if (protoIndex < 0)
+                return -1;
         } else {
             if (!OBJ_LOOKUP_PROPERTY(cx, obj, id, &pobj, &prop))
                 return -1;
             protoIndex = -1;
         }
 
         if (prop) {
             if (entryp) {
