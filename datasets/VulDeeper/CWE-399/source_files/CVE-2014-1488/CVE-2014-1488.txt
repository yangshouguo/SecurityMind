diff --git a/js/src/jstypedarray.cpp b/js/src/jstypedarray.cpp
--- a/js/src/jstypedarray.cpp
+++ b/js/src/jstypedarray.cpp
@@ -644,21 +644,23 @@ ArrayBufferObject::stealContents(JSConte
 
         ArrayBufferObject::setElementsHeader(newheader, length);
         *contents = newheader;
         *data = reinterpret_cast<uint8_t *>(newheader + 1);
 
         if (buffer.isAsmJSArrayBuffer())
             ArrayBufferObject::neuterAsmJSArrayBuffer(buffer);
     }
 
     // Neuter the donor ArrayBuffer and all views of it
+    uint32_t flags = header->flags;
     ArrayBufferObject::setElementsHeader(header, 0);
+    header->flags = flags;
     GetViewList(&buffer)->init(views);
     for (JSObject *view = views; view; view = NextView(view))
         TypedArray::neuter(view);
 
     return true;
 }
 
 void
 ArrayBufferObject::obj_trace(JSTracer *trc, JSObject *obj)
 {
